[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Crime Trend and Spatial Analysis in Chicago (2010 - 2023)",
    "section": "",
    "text": "Introduction\n\n\nWelcome to the Crime Analysis Project\nThis website presents a detailed analysis of crime trends and spatial distributions in Chicago from 2010 to 2023.\n\n\nMaterials and methods implemented\nData Cleaning and Preparation I am using the dplyr and tidyr packages in R Studio to clean and organize the dataset, removing any inconsistencies or missing values to ensure data accuracy.\nTime-Series Analysis I am leveraging ggplot2 to plot trends in crime rates over time, analyzing how crime levels are evolving throughout the study period.\nSpatial Analysis Using the sf package, I am mapping crime locations to visualize their spatial distribution across Chicago’s neighborhoods, helping to identify patterns and areas of concern.\nCluster Analysis I am applying clustering techniques to identify crime hotspots and determine whether certain crime types are showing spatial concentrations in specific regions of the city.\nPredictive Modeling I am using machine learning techniques, such as caret and randomForest, to build models that predict crime occurrences based on time and location, providing insights for crime prevention strategies.\nRequired packages:\n\n\nLoad necessary libraries\n\nlibrary(dplyr)\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\nlibrary(tidyr)\n\n\n\nLoad the dataset\n\ndf &lt;- read.csv(\"data/data.csv\", stringsAsFactors = FALSE)\n\n\n\nView the first few rows of the dataset\n\nhead(df)\n\n        ID Case.Number                   Date                    Block IUCR\n1 13190943    JG400635 08/28/2023 06:23:00 AM 027XX N NARRAGANSETT AVE 1320\n2 13192516    JG402535 08/29/2023 01:59:00 PM     014XX N LOCKWOOD AVE 1310\n3 13202216    JG414059 09/06/2023 06:20:00 PM         018XX N LUNA AVE 1310\n4 13202922    JG414619 09/06/2023 06:00:00 PM          014XX E 49TH ST 1320\n5 13201501    JG413395 09/06/2023 01:00:00 AM       082XX S AVALON AVE 1320\n6 13202292    JG412948 09/06/2023 12:40:00 AM      082XX S WOLCOTT AVE 1310\n     Primary.Type Description                   Location.Description Arrest\n1 CRIMINAL DAMAGE  TO VEHICLE PARKING LOT / GARAGE (NON RESIDENTIAL)   true\n2 CRIMINAL DAMAGE TO PROPERTY                              RESIDENCE   true\n3 CRIMINAL DAMAGE TO PROPERTY                                 STREET  false\n4 CRIMINAL DAMAGE  TO VEHICLE                                 STREET  false\n5 CRIMINAL DAMAGE  TO VEHICLE                                 STREET  false\n6 CRIMINAL DAMAGE TO PROPERTY                              RESIDENCE  false\n  Domestic Beat District Ward Community.Area FBI.Code X.Coordinate Y.Coordinate\n1    false 2512       25   36             19       14      1133273      1917606\n2     true 2532       25   37             25       14      1140764      1909050\n3    false 2532       25   37             25       14      1139111      1911573\n4    false  222        2    4             39       14      1186638      1872793\n5    false  411        4    8             45       14      1185975      1850651\n6    false  614        6   17             71       14      1165120      1850031\n  Year             Updated.On Latitude Longitude                      Location\n1 2023 09/14/2023 03:41:59 PM 41.93013 -87.78568   (41.9301323, -87.785676799)\n2 2023 09/14/2023 03:41:59 PM 41.90652 -87.75836 (41.906519104, -87.758359629)\n3 2023 09/14/2023 03:43:09 PM 41.91347 -87.76437 (41.913472752, -87.764370362)\n4 2023 09/14/2023 03:43:09 PM 41.80606 -87.59100 (41.806060798, -87.590999348)\n5 2023 09/14/2023 03:43:09 PM 41.74532 -87.59413  (41.745316916, -87.59412899)\n6 2023 09/14/2023 03:43:09 PM 41.74408 -87.67056 (41.744081763, -87.670562675)\n\n\n\n\nDATA CLEANING AND PREPERATION\n\n\nDropping duplicate rows\n\ndf &lt;- df %&gt;% distinct()\n\n\n\nRemoving rows with any missing values\n\ndf &lt;- df %&gt;% drop_na()\n\n\n\nIdentifying and cleaning inconsistent values (example: convert character columns to lowercase)\n\ndf &lt;- df %&gt;% mutate_if(is.character, tolower)\n\n\n\nReplacing any incorrect or placeholder values like “NA” or “unknown” with NA\n\ndf &lt;- df %&gt;%\n  mutate(across(where(is.character), ~ na_if(., \"NA\"))) %&gt;%\n  mutate(across(where(is.character), ~na_if(., \"unknown\")))\n\n\n\nRe-checking for missing values and inconsistencies in the data\n\nsummary(df)\n\n       ID           Case.Number            Date              Block          \n Min.   : 7296923   Length:105227      Length:105227      Length:105227     \n 1st Qu.: 8854092   Class :character   Class :character   Class :character  \n Median :10538173   Mode  :character   Mode  :character   Mode  :character  \n Mean   :10410688                                                           \n 3rd Qu.:11946536                                                           \n Max.   :13597427                                                           \n      IUCR      Primary.Type       Description        Location.Description\n Min.   : 142   Length:105227      Length:105227      Length:105227       \n 1st Qu.:1310   Class :character   Class :character   Class :character    \n Median :1310   Mode  :character   Mode  :character   Mode  :character    \n Mean   :1317                                                             \n 3rd Qu.:1320                                                             \n Max.   :5004                                                             \n    Arrest            Domestic              Beat         District    \n Length:105227      Length:105227      Min.   : 222   Min.   : 2.00  \n Class :character   Class :character   1st Qu.: 634   1st Qu.: 6.00  \n Mode  :character   Mode  :character   Median :1014   Median :10.00  \n                                       Mean   :1235   Mean   :12.13  \n                                       3rd Qu.:2212   3rd Qu.:22.00  \n                                       Max.   :2534   Max.   :31.00  \n      Ward       Community.Area    FBI.Code          X.Coordinate    \n Min.   : 1.00   Min.   : 2.00   Length:105227      Min.   :      0  \n 1st Qu.:12.00   1st Qu.:25.00   Class :character   1st Qu.:1150328  \n Median :21.00   Median :44.00   Mode  :character   Median :1163630  \n Mean   :21.49   Mean   :43.79                      Mean   :1163194  \n 3rd Qu.:29.00   3rd Qu.:67.00                      3rd Qu.:1174198  \n Max.   :50.00   Max.   :75.00                      Max.   :1205114  \n  Y.Coordinate          Year       Updated.On           Latitude    \n Min.   :      0   Min.   :2010   Length:105227      Min.   :36.62  \n 1st Qu.:1852587   1st Qu.:2012   Class :character   1st Qu.:41.75  \n Median :1871709   Median :2016   Mode  :character   Median :41.80  \n Mean   :1877485   Mean   :2016                      Mean   :41.82  \n 3rd Qu.:1904122   3rd Qu.:2020                      3rd Qu.:41.89  \n Max.   :1950365   Max.   :2023                      Max.   :42.02  \n   Longitude        Location        \n Min.   :-91.69   Length:105227     \n 1st Qu.:-87.72   Class :character  \n Median :-87.68   Mode  :character  \n Mean   :-87.68                     \n 3rd Qu.:-87.64                     \n Max.   :-87.52                     \n\n\n\n\nBarplot\nThe below bar plot presents an analysis of the distribution of different types of crimes in the dataset. The aim is to visualize the frequency of each crime type to identify trends and understand which types of crimes are most prevalent.\n\nlibrary(ggplot2)\n\n# Create a histogram of the Year column\nggplot(df, aes(x = Year)) +\n  geom_histogram(binwidth = 1, fill = \"beige\", color = \"black\", alpha = 0.7) +\n  labs(title = \"Distribution of Crimes by Year\", x = \"Year\", y = \"Frequency\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n\nTIME SERIES ANALYSIS\n\n# Load necessary libraries\nlibrary(ggplot2)\nlibrary(dplyr)\n\n# Convert 'Date' column to Date type and extract month-year for aggregation\ndf$Date &lt;- as.Date(df$Date, format=\"%m/%d/%Y %I:%M:%S %p\")\ndf$Month &lt;- format(df$Date, \"%Y-%m\")\n\n# Aggregate crime counts by month\nmonthly_crime_counts &lt;- df %&gt;%\n  group_by(Month) %&gt;%\n  summarise(Crime_Count = n())\n\nmonthly_crime_counts$Month &lt;- as.Date(paste0(monthly_crime_counts$Month, \"-01\"))\n\n# Plot the time-series data\nggplot(monthly_crime_counts, aes(x = as.Date(Month), y = Crime_Count)) +\n  geom_line(color = \"blue\") +\n  labs(title = \"Monthly Crime Counts Over Time\",\n       x = \"Date\",\n       y = \"Crime Count\") +\n  theme_minimal()\n\n\n\n\n\n\n\n\n\n# Extract Year and Month separately\ndf$Year &lt;- format(df$Date, \"%Y\")\ndf$Month &lt;- format(df$Date, \"%m\")\n\n# Aggregate data by Year and Month to calculate monthly crime rates per year\nmonthly_crime_rate &lt;- df %&gt;%\n  group_by(Year, Month) %&gt;%\n  summarise(Crime_Count = n()) %&gt;%\n  ungroup()\n\n`summarise()` has grouped output by 'Year'. You can override using the\n`.groups` argument.\n\n# Convert Month to a factor to ensure correct ordering on the x-axis\nmonthly_crime_rate$Month &lt;- factor(monthly_crime_rate$Month, levels = sprintf(\"%02d\", 1:12), labels = month.abb)\n\n# Plot multiple lines for each year\nggplot(monthly_crime_rate, aes(x = Month, y = Crime_Count, color = Year, group = Year)) +\n  geom_line(size = 1) +\n  labs(title = \"Monthly Crime Rates by Year\",\n       x = \"Month\",\n       y = \"Crime Count\") +\n  theme_minimal() +\n  theme(legend.position = \"right\")\n\nWarning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\nℹ Please use `linewidth` instead.\n\n\n\n\n\n\n\n\n\n\n\nSPATIAL ANALYSIS\n\nhead(df)\n\n        ID Case.Number       Date                    Block IUCR    Primary.Type\n1 13190943    jg400635 2023-08-28 027xx n narragansett ave 1320 criminal damage\n2 13192516    jg402535 2023-08-29     014xx n lockwood ave 1310 criminal damage\n3 13202216    jg414059 2023-09-06         018xx n luna ave 1310 criminal damage\n4 13202922    jg414619 2023-09-06          014xx e 49th st 1320 criminal damage\n5 13201501    jg413395 2023-09-06       082xx s avalon ave 1320 criminal damage\n6 13202292    jg412948 2023-09-06      082xx s wolcott ave 1310 criminal damage\n  Description                   Location.Description Arrest Domestic Beat\n1  to vehicle parking lot / garage (non residential)   true    false 2512\n2 to property                              residence   true     true 2532\n3 to property                                 street  false    false 2532\n4  to vehicle                                 street  false    false  222\n5  to vehicle                                 street  false    false  411\n6 to property                              residence  false    false  614\n  District Ward Community.Area FBI.Code X.Coordinate Y.Coordinate Year\n1       25   36             19       14      1133273      1917606 2023\n2       25   37             25       14      1140764      1909050 2023\n3       25   37             25       14      1139111      1911573 2023\n4        2    4             39       14      1186638      1872793 2023\n5        4    8             45       14      1185975      1850651 2023\n6        6   17             71       14      1165120      1850031 2023\n              Updated.On Latitude Longitude                      Location Month\n1 09/14/2023 03:41:59 pm 41.93013 -87.78568   (41.9301323, -87.785676799)    08\n2 09/14/2023 03:41:59 pm 41.90652 -87.75836 (41.906519104, -87.758359629)    08\n3 09/14/2023 03:43:09 pm 41.91347 -87.76437 (41.913472752, -87.764370362)    09\n4 09/14/2023 03:43:09 pm 41.80606 -87.59100 (41.806060798, -87.590999348)    09\n5 09/14/2023 03:43:09 pm 41.74532 -87.59413  (41.745316916, -87.59412899)    09\n6 09/14/2023 03:43:09 pm 41.74408 -87.67056 (41.744081763, -87.670562675)    09\n\n\n\n# Load necessary libraries\ninstall.packages(c(\"ggplot2\", \"ggmap\", \"sf\"))\n\n# Downloading packages -------------------------------------------------------\n- Downloading ggmap from CRAN ...               OK [4.5 Mb in 0.38s]\n- Downloading plyr from CRAN ...                OK [768 Kb in 0.36s]\n- Downloading jpeg from CRAN ...                OK [28.6 Kb in 0.36s]\n- Downloading bitops from CRAN ...              OK [25.4 Kb in 0.35s]\n- Downloading sf from CRAN ...                  OK [3.6 Mb in 0.37s]\n- Downloading classInt from CRAN ...            OK [487.3 Kb in 0.36s]\n- Downloading e1071 from CRAN ...               OK [582.2 Kb in 0.38s]\n- Downloading proxy from CRAN ...               OK [171.5 Kb in 0.38s]\n- Downloading s2 from CRAN ...                  OK [2.1 Mb in 0.37s]\n- Downloading wk from CRAN ...                  OK [1.7 Mb in 0.39s]\n- Downloading units from CRAN ...               OK [354.5 Kb in 0.36s]\nSuccessfully downloaded 11 packages in 6.7 seconds.\n\nThe following package(s) will be installed:\n- bitops   [1.0-9]\n- classInt [0.4-10]\n- e1071    [1.7-16]\n- ggmap    [4.0.0]\n- ggplot2  [3.5.1]\n- jpeg     [0.1-10]\n- plyr     [1.8.9]\n- proxy    [0.4-27]\n- s2       [1.1.7]\n- sf       [1.0-19]\n- units    [0.8-5]\n- wk       [0.9.4]\nThese packages will be installed into \"~/work/final-project-bsatyavs/final-project-bsatyavs/renv/library/linux-ubuntu-jammy/R-4.4/x86_64-pc-linux-gnu\".\n\n# Installing packages --------------------------------------------------------\n- Installing ggplot2 ...                        OK [linked from cache]\n- Installing plyr ...                           OK [installed binary and cached in 0.28s]\n- Installing jpeg ...                           OK [installed binary and cached in 0.2s]\n- Installing bitops ...                         OK [installed binary and cached in 0.21s]\n- Installing ggmap ...                          OK [installed binary and cached in 0.81s]\n- Installing proxy ...                          OK [installed binary and cached in 0.21s]\n- Installing e1071 ...                          OK [installed binary and cached in 0.22s]\n- Installing classInt ...                       OK [installed binary and cached in 0.23s]\n- Installing wk ...                             OK [installed binary and cached in 0.25s]\n- Installing s2 ...                             OK [installed binary and cached in 0.35s]\n- Installing units ...                          OK [installed binary and cached in 0.32s]\n- Installing sf ...                             OK [installed binary and cached in 0.8s]\nSuccessfully installed 12 packages in 4.3 seconds.\n\nlibrary(sf)\n\nLinking to GEOS 3.10.2, GDAL 3.4.1, PROJ 8.2.1; sf_use_s2() is TRUE\n\nlibrary(ggplot2)\nlibrary(ggmap)\n\nℹ Google's Terms of Service: &lt;https://mapsplatform.google.com&gt;\n  Stadia Maps' Terms of Service: &lt;https://stadiamaps.com/terms-of-service/&gt;\n  OpenStreetMap's Tile Usage Policy: &lt;https://operations.osmfoundation.org/policies/tiles/&gt;\nℹ Please cite ggmap if you use it! Use `citation(\"ggmap\")` for details.\n\nlibrary(ggmap)\nregister_stadiamaps(key = \"646b60c3-8bef-49e4-bc52-805e18cdae42\")\n\n\n# Convert the data to an sf object with crime location coordinates\ncrime_data_sf &lt;- st_as_sf(df, coords = c(\"Longitude\", \"Latitude\"), crs = 4326, agr = \"constant\")\n\n# Get a basemap of Chicago using ggmap\n# Ensure you have the ggmap API key for Google Maps if you choose source = \"google\"\nchicago_map &lt;- get_stadiamap(\n  bbox = c(left = -87.9401, bottom = 41.6445, right = -87.5237, top = 42.0230), \n  zoom = 11, \n  maptype = \"stamen_terrain\"\n)\n\nℹ © Stadia Maps © Stamen Design © OpenMapTiles © OpenStreetMap contributors.\n\n\n\n# Plot crime locations on the map of Chicago\n\nggmap(chicago_map) +\n  geom_sf(data = crime_data_sf, inherit.aes = FALSE, color = \"red\", size = 0.5, alpha = 0.7) +\n  labs(title = \"Crime Distribution Across Chicago\") +\n  theme_minimal()\n\nCoordinate system already present. Adding new coordinate system, which will\nreplace the existing one.\n\n\n\n\n\n\n\n\n\n\n\nCLUSTER ANALYSIS\n\n# Load necessary libraries\nlibrary(dplyr)\nlibrary(ggplot2)\nlibrary(ggmap)\n\n# Assuming your data is already loaded into crime_data\n# Filter to only rows with valid latitude and longitude\ncrime_data &lt;- df %&gt;%\n  filter(!is.na(Latitude) & !is.na(Longitude))\n\n# Step 1: Extract only latitude and longitude for clustering\ncoords &lt;- crime_data %&gt;%\n  select(Latitude, Longitude)\n\n# Step 2: Perform K-means clustering (choose k as desired)\nset.seed(123)  # Set seed for reproducibility\nk &lt;- 5  # Number of clusters (adjust as needed)\ncrime_clusters &lt;- kmeans(coords, centers = k, nstart = 20)\n\n# Add the cluster assignments back to the original data\ncrime_data$Cluster &lt;- factor(crime_clusters$cluster)\n\n# Step 3: Get a Stadia map of Chicago\nchicago_map &lt;- get_stadiamap(bbox = c(left = -87.9401, bottom = 41.6445, right = -87.5245, top = 42.0230), \n                             zoom = 11, maptype = \"stamen_terrain\")\n\nℹ © Stadia Maps © Stamen Design © OpenMapTiles © OpenStreetMap contributors.\n\n# Step 4: Plot clusters on the map\nggmap(chicago_map) +\n  geom_point(data = crime_data, aes(x = Longitude, y = Latitude, color = Cluster), \n             size = 1.5, alpha = 0.6) +\n  scale_color_brewer(palette = \"Set1\") +\n  labs(title = \"Clustered Crime Locations in Chicago\", color = \"Cluster\") +\n  theme_minimal()\n\nWarning: Removed 1 row containing missing values or values outside the scale range\n(`geom_point()`).\n\n\n\n\n\n\n\n\n\nThe K-means clustering method was used to group crime incidents based on their locations (latitude and longitude). This method divides the data into a set number of clusters (5 clusters in this case). It works by reducing the distance between each crime location and the center of its group, known as the cluster centroid.\nThe number of clusters (k) was chosen after looking at the data and deciding what made the most sense. Although more clusters might give more detailed information, 5 clusters were chosen to keep it simple and easy to understand.\nAreas with more people living in them tend to have more crimes because there are more opportunities for crimes to happen. Clusters near busy places like shopping malls or entertainment areas may have higher crime rates due to the large number of people walking around.\nAreas that have poor infrastructure, such as streets without enough lighting or security, might see more crime. The clustering method helps to show these areas clearly.\nPolice can use these results to focus on high-crime areas, assign officers there, start neighborhood watch programs, or create plans to tackle specific types of crime in each area. City planners can also use this information to improve lighting, safety, and community involvement in areas with more crime.\n\n\nPrediction Models\n\n\nConclusions\nThe histogram of crime distribution by year highlights trends in criminal activity, aiding law enforcement in resource allocation and community safety initiatives. It underscores the influence of external factors on crime fluctuations and sets the stage for further research into specific crime types and their underlying causes.\nThe further project work includes the time series analysis, spatial analysis, cluster analysis, and prediction analysis.\n\n\nReferences\n\nChicago Crime map: https://www3.nd.edu/~skumar5/teaching/additional/spring-2022-eg/project-06-13/index.html\nNYC Crime Map: https://data.cityofnewyork.us/Public-Safety/Crime-Map-/5jvd-shfj\nLA Crime Analysis:https://crimegrade.org/violent-crime-los-angeles-ca/"
  },
  {
    "objectID": "data/Readme.html",
    "href": "data/Readme.html",
    "title": "Crime Trend and Spatial Analysis in Chicago (2010 - 2023)",
    "section": "",
    "text": "Place any data needed by your analysis in this folder. Please do not store large files here. Then read in any data using the ‘data’ path. For example, read_csv(\"data/data.csv\")."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Crime dataset\nThe dataset consists of 1,036,438 entries and 22 columns, representing crime incidents over time. Key columns include:\nID: Unique identifier for each incident.\nCase Number: Specific case identifier.\nDate: Date of the crime.\nPrimary Type: Categorization of the crime (e.g., theft, assault).\nDescription: Detailed description of the crime.\nLocation Description: Information about where the crime occurred (with some missing values).\nArrest: Indicates whether an arrest was made (boolean).\nDomestic: Indicates if the crime was domestic (boolean).\nYear: The year the crime occurred.\nGeographical Coordinates: Latitude and longitude data for mapping the crime locations.\nThe dataset also contains several columns with missing values, notably in Location Description, Ward, Community Area, and geographical coordinates. This information can be used for statistical analysis, trend identification, and understanding crime patterns over time and across different locations."
  }
]